<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.java.MemberMapper">

	<!-- 회원정보 입력 -->
	<insert id='insertMember' parameterType="com.java.domain.MemberVO">
		INSERT INTO m_member(m_id, m_pass, m_name, m_tel, m_email, m_point, m_addr, m_postcode)
		VALUES(#{m_id}, #{m_pass}, #{m_name}, #{m_tel}, #{m_email}, 4000, #{m_addr}, #{m_postcode})
	</insert>
	
	<!-- 아이디 중복 확인 -->
	<select id="selectcheckIdMember" parameterType="com.java.domain.MemberVO" resultType="int">
		SELECT count(*) FROM m_member WHERE m_id = #{m_id}
	</select>

	<!-- 로그인 확인 -->
	<select id='loginCheck' parameterType="com.java.domain.MemberVO" resultType="com.java.domain.MemberVO">
		SELECT * FROM m_member WHERE m_id=#{m_id} AND m_pass=#{m_pass}
		
	</select>
	
	<!-- 회원목록 리스트 -->
	<select id='member_all' parameterType="com.java.domain.MemberVO" resultType="com.java.domain.MemberVO">
		SELECT * FROM m_member LIMIT 3;
	</select>
	
	<select id='member_point_detail' parameterType="com.java.domain.MemberVO" resultType="com.java.domain.MemberVO">
		SELECT * FROM m_member WHERE m_id=#{m_id};
	</select>
	
	<update id='member_point_content' parameterType="com.java.domain.MemberVO">
		UPDATE m_member SET  m_point=#{m_point}-#{p_point_minus} WHERE m_id=#{m_id}
	</update>
	

</mapper>